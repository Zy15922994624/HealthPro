<view class="sport-container"><block wx:if="{{isRecording}}"><view class="sport-status"><view class="timer">{{$root.m0}}</view><view class="sport-type">{{currentSportName}}</view><button data-event-opts="{{[['tap',[['stopSport',['$event']]]]]}}" class="stop-btn" bindtap="__e">结束运动</button></view></block><block wx:else><view class="stats-card"><view class="stat-card"><view class="stat-item"><text class="label">消耗热量</text><text class="value">{{$root.g0+"千卡"}}</text></view><view class="stat-item"><text class="label">运动时长</text><text class="value">{{todayDuration+"分钟"}}</text></view></view><button data-event-opts="{{[['tap',[['showStartPopup',['$event']]]]]}}" class="start-btn" bindtap="__e">开始运动</button></view></block><uni-popup class="vue-ref" vue-id="7c4fc354-1" type="bottom" data-ref="startPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="start-form"><view class="form-header"><text class="title">选择运动类型</text><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="close" bindtap="__e">×</text></view><view class="sport-list"><block wx:for="{{sportTypes}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['startSport',['$0'],[[['sportTypes','id',item.id]]]]]]]}}" class="sport-item" bindtap="__e"><text>{{item.name}}</text></view></block></view></view></uni-popup><uni-popup class="vue-ref" vue-id="7c4fc354-2" type="bottom" data-ref="endPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="end-form"><view class="form-header"><text class="title">运动完成</text><text data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="close" bindtap="__e">×</text></view><view class="form-content"><view class="info-item"><text class="label">运动时长</text><text class="value">{{$root.m1}}</text></view><view class="form-item"><text class="label">运动强度</text><radio-group data-event-opts="{{[['change',[['onIntensityChange',['$event']]]]]}}" class="intensity-group" bindchange="__e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i1__" wx:key="value"><label class="intensity-item"><radio value="{{item.g1}}" checked="{{formData.intensity===item.$orig.value}}" color="#07c160"></radio><text>{{item.$orig.label}}</text></label></block></radio-group></view><view class="form-item"><text class="label">心率</text><input class="input-field" type="number" placeholder="请输入心率" maxlength="3" data-event-opts="{{[['input',[['__set_model',['$0','heartRate','$event',[]],['formData']]]]]}}" value="{{formData.heartRate}}" bindinput="__e"/></view><view class="form-item"><text class="label">备注</text><textarea placeholder="请输入备注" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['formData']]]]]}}" value="{{formData.remark}}" bindinput="__e"></textarea></view><button data-event-opts="{{[['tap',[['submitRecord',['$event']]]]]}}" class="submit-btn" bindtap="__e">保存记录</button></view></view></uni-popup><view class="sport-list"><block wx:if="{{$root.g2===0}}"><view class="empty"><text>暂无运动记录</text></view></block><block wx:else><view><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['onRecordClick',['$0'],[[['sportList','',index]]]]]]]}}" class="sport-item" bindtap="__e"><view class="sport-info"><text class="sport-name">{{item.$orig.sportName}}</text><text class="sport-time">{{item.m2}}</text></view><view class="sport-data"><text class="duration">{{item.$orig.duration+"分钟"}}</text><text class="calories">{{item.$orig.calories+"千卡"}}</text></view></view></block></view></block></view><uni-popup class="vue-ref" vue-id="7c4fc354-3" type="bottom" data-ref="detailPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="detail-form"><view class="form-header"><text class="title">运动详情</text><text data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="close" bindtap="__e">×</text></view><block wx:if="{{currentRecord}}"><view class="detail-content"><view class="detail-item"><text class="label">运动类型</text><text class="value">{{currentRecord.sportName}}</text></view><view class="detail-item"><text class="label">开始时间</text><text class="value">{{$root.m3}}</text></view><view class="detail-item"><text class="label">结束时间</text><text class="value">{{$root.m4}}</text></view><view class="detail-item"><text class="label">运动时长</text><text class="value">{{currentRecord.duration+"分钟"}}</text></view><view class="detail-item"><text class="label">运动强度</text><text class="value">{{['轻度','中度','重度'][currentRecord.intensity-1]}}</text></view><view class="detail-item"><text class="label">心率</text><text class="value">{{currentRecord.heartRate+"次/分"}}</text></view><view class="detail-item"><text class="label">消耗热量</text><text class="value">{{$root.g3+"千卡"}}</text></view><block wx:if="{{currentRecord.remark}}"><view class="detail-item"><text class="label">备注</text><text class="value">{{currentRecord.remark}}</text></view></block></view></block></view></uni-popup></view>